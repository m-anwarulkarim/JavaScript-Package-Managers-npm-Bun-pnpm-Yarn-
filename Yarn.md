এক সময় NPM খুব ধীরগতির ছিল বলে ফেসবুক (এখন Meta) এই Yarn তৈরি করেছিল। এটি বর্তমানে অত্যন্ত স্থিতিশীল এবং অনেক বড় বড় প্রজেক্টে ব্যবহৃত হয়।

নিচে ধাপে ধাপে Yarn ব্যবহারের নিয়ম দেওয়া হলো:

---

### ১. Yarn ইনস্টল করা (Installation)

বর্তমানে Yarn ব্যবহারের সবচেয়ে আধুনিক পদ্ধতি হলো **Corepack** ব্যবহার করা (এটি Node.js এর সাথেই আসে)।

- **Corepack এনাবল করে ইনস্টল (সুপারিশকৃত):**

```bash
corepack enable
corepack prepare yarn@stable --activate

```

- **অথবা NPM দিয়ে গ্লোবাল ইনস্টল:**

```bash
npm install --global yarn

```

ইনস্টল হয়েছে কি না যাচাই করতে লিখুন: `yarn -v`

---

### ২. প্রজেক্ট শুরু করা (Initialize)

নতুন প্রজেক্ট সেটআপ করার জন্য টার্মিনালে লিখুন:

```bash
yarn init

```

এটি আপনাকে কিছু প্রশ্ন করবে এবং শেষে একটি `package.json` ফাইল তৈরি করবে। (সব ডিফল্ট রাখতে চাইলে `yarn init -y` দিতে পারেন)।

---

### ৩. প্যাকেজ ম্যানেজমেন্ট (Commands)

Yarn-এর কমান্ডগুলো NPM থেকে কিছুটা আলাদা কিন্তু খুবই সহজ:

- **প্যাকেজ যোগ করা (npm install-এর বদলে):**

```bash
yarn add <package-name>

```

- **ডেভ-ডিপেন্ডেন্সি হিসেবে যোগ করা:**

```bash
yarn add <package-name> --dev

```

- **সব ডিপেন্ডেন্সি ইনস্টল করা:**

```bash
yarn install
# অথবা শুধু
yarn

```

- **প্যাকেজ আপডেট করা:**

```bash
yarn upgrade <package-name>

```

- **প্যাকেজ রিমুভ করা:**

```bash
yarn remove <package-name>

```

---

### ৪. স্ক্রিপ্ট রান করা (Running Scripts)

আপনার `package.json` ফাইলের স্ক্রিপ্টগুলো চালাতে `run` ব্যবহার করতে হয়:

```bash
yarn run dev
# অথবা সংক্ষেপে
yarn dev

```

### ৫. Yarn Berry (v2+) এবং PnP (Plug'n'Play)

Yarn-এর নতুন ভার্সনগুলোতে `node_modules` ফোল্ডার তৈরি না করেই প্রজেক্ট চালানো যায়। একে বলা হয় **PnP**।

- এটি প্রজেক্টের সাইজ অনেক কমিয়ে দেয়।
- এটি সরাসরি `.zip` ফাইল থেকে প্যাকেজ রিড করে, ফলে ফাইল ইন্ডেক্সিং অনেক ফাস্ট হয়।

---

### ৬. ইন্টারঅ্যাক্টিভ কমান্ডস (Interactive UI)

Yarn-এর কিছু কমান্ড খুব ইউজার-ফ্রেন্ডলি:

- **ইন্টারঅ্যাক্টিভ আপগ্রেড:** প্রজেক্টের সব প্যাকেজ একসাথে দেখে সিলেক্ট করে আপডেট করতে চাইলে:

```bash
yarn upgrade-interactive --latest

```

- **প্যাকেজ কেন ইনস্টল হয়েছে দেখা:** কোনো প্যাকেজ আপনার প্রজেক্টে কেন আছে (অন্য কোনো প্যাকেজের ওপর নির্ভরশীল কি না) তা জানতে:

```bash
yarn why <package-name>

```

---

### ৭. Yarn Workspaces (মনোরেপো ম্যানেজমেন্ট)

বড় প্রজেক্টে যখন একাধিক ছোট প্রজেক্ট (যেমন: Frontend এবং Backend) একই ফোল্ডারে থাকে, তখন Yarn Workspaces ব্যবহার করা সবচেয়ে বুদ্ধিমানের কাজ।

- এটি সব সাব-প্রজেক্টের ডিপেন্ডেন্সি একসাথে হ্যান্ডেল করে।
- রুট থেকে একটি কমান্ডেই সব প্রজেক্টের কাজ করা যায়।

---

### ৮. সিকিউরিটি অডিট (Audit)

আপনার প্রজেক্টের প্যাকেজগুলোতে কোনো সিকিউরিটি রিস্ক বা ভালনারেবিলিটি আছে কি না তা চেক করতে ব্যবহার করুন:

```bash
yarn audit

```

---

### কিছু জরুরি টিপস (Updated):

- **গ্লোবাল প্যাকেজ রান:** যদি কোনো প্যাকেজ ইনস্টল না করে সরাসরি রান করতে চান (যেমন npx), তবে লিখুন:

```bash
yarn dlx <package-name>

```

- **ক্লিন ক্যাশ:** যদি ইনস্টলেশনে কোনো সমস্যা হয়, ক্যাশ পরিষ্কার করতে:

```bash
yarn cache clean

```

### 9. Yarn-এর বিশেষ বৈশিষ্ট্য

- **Yarn Lock:** এটি `yarn.lock` ফাইল তৈরি করে যা নিশ্চিত করে যে আপনার টিমের সবাই ঠিক একই ভার্সনের প্যাকেজ ব্যবহার করছে।
- **Parallel Installation:** Yarn একসাথে অনেকগুলো প্যাকেজ ডাউনলোড করতে পারে, যা কাজ দ্রুত করে।
- **Offline Cache:** একবার কোনো প্যাকেজ ডাউনলোড করলে সেটি ক্যাশ-এ জমা থাকে, তাই ইন্টারনেট ছাড়াও পরে ওই প্যাকেজ ইনস্টল করা যায়।
- **Zero Installs (Yarn Berry/v2+):** এটি একটি অ্যাডভান্সড ফিচার যেখানে `node_modules` ছাড়াই প্রজেক্ট চালানো যায় (প্যাকেজগুলো জিপ আকারে থাকে)।

---

### সারসংক্ষেপ: NPM vs Bun vs PNPM vs Yarn

| কমান্ড         | NPM                 | Bun             | PNPM             | Yarn             |
| -------------- | ------------------- | --------------- | ---------------- | ---------------- |
| **Install**    | `npm install`       | `bun install`   | `pnpm install`   | `yarn install`   |
| **Add Pkg**    | `npm i <pkg>`       | `bun add <pkg>` | `pnpm add <pkg>` | `yarn add <pkg>` |
| **Run Script** | `npm run dev`       | `bun run dev`   | `pnpm dev`       | `yarn dev`       |
| **Lockfile**   | `package-lock.json` | `bun.lockb`     | `pnpm-lock.yaml` | `yarn.lock`      |

---

### প্যাকেজ ম্যানেজার বাছাই করার ফাইনাল ডিসিশন :

| আপনার প্রয়োজন হলে...                              | সেরা চয়েস |
| ------------------------------------------------- | --------- |
| **সবচেয়ে দ্রুত ইনস্টলেশন এবং রানটাইম**           | **Bun**   |
| **হার্ডড্রাইভের জায়গা বাঁচানো (Shared Store)**    | **PNPM**  |
| **বড় এন্টারপ্রাইজ প্রজেক্ট ও স্ট্যাবিলিটি**       | **Yarn**  |
| **বেসিক লার্নিং এবং কোনো ঝামেলা ছাড়া ডিফল্ট টুল** | **NPM**   |

**উপসংহার:**
Yarn এখনো অনেক বড় বড় ওপেন সোর্স প্রজেক্ট এবং এন্টারপ্রাইজ লেভেলে স্ট্যান্ডার্ড হিসেবে বিবেচিত হয়। বিশেষ করে এর "Zero Installs" কনসেপ্টটি সিআই/সিডি (CI/CD) পাইপলাইনের সময় অনেক বাঁচিয়ে দেয়।
